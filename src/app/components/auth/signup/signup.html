<main>
    <h2>ðŸ›’ audiophile</h2>
    
    <section>
        <h1>Sign up</h1>
        @if(errorMessage()) {
            <p class="error">{{errorMessage()}}</p>
        }
        
        <form [formGroup]="signupForm" (ngSubmit)="submit()">

            <div class="input-fields">

                <div class="input-group">
                    <input type="text" name="name" id="name" placeholder="Full name" formControlName="fullName">
                    @if (nameErrorMessage) {
                        <small class="error">{{ nameErrorMessage }}</small>
                    }
                </div>

                <div class="input-group">
                    <input type="email" name="email" id="email" placeholder="Email address" formControlName="email">
                    @if (emailErrorMessage) {
                        <small class="error">{{ emailErrorMessage }}</small>
                    }
                </div>
    
                <div class="input-group">
                    <input type="password" name="password" id="password" placeholder="Password" formControlName="password">
                    @if (passwordErrorMessage) {
                        <small class="error">{{ passwordErrorMessage }}</small>
                    }
                </div>
    
                <div class="input-group">
                    <input type="password" name="repeatPassword"  placeholder="Confirm Password" formControlName="repeatPassword">
                    @if (confirmPasswordErrorMessage) {
                        <small class="error"> {{ confirmPasswordErrorMessage }} </small>
                    }
                </div>
            </div>

            <div class="btn-container">

                <button type="submit" [disabled]="signupForm.invalid">
                    @if (isLoading()) {
                        loading...
                    }
                    @else {

                        Create an account
                    }
                </button>

                <p>Don't have an account?
                    <a routerLink="/login" routerLinkActive="active" aria-label="Sign up">Login</a>
                </p>
            </div>
        </form>
    </section>
</main>